# BPMN-диаграммы: Процессы системы бронирования

В этом документе описаны основные бизнес-процессы системы "Scat Booking System".

---

## 1. Основной процесс: Бронирование места студентом

Этот процесс описывает основной сценарий взаимодействия пользователя с системой: от выбора события до успешного бронирования места.

```mermaid
graph TD;
    subgraph "Процесс бронирования"
        A("Начало: Открыт период бронирования") --> B{"Студент входит в систему"};
        B --> C["Система: Показывает список активных событий (КР/Сдача)"];
        C --> D{"Студент выбирает событие"};
        D --> E["Система: Отображает схему с АКТУАЛЬНЫМИ ценами"];
        E --> F{"Студент выбирает место"};
        F --> G{"Проверка: очков достаточно?"};
        G -- Да --> H["Система: Списывает очки с баланса"];
        H --> I["Система: Резервирует место за студентом"];
        I --> J("Конец: Место успешно забронировано");
        G -- Нет --> K["Система: Показывает ошибку "Недостаточно средств""];
        K --> E;
    end
```

---

## 2. Вспомогательный процесс: Начисление очков

Этот раздел описывает два способа, которыми студенты могут получать очки.

### 2.1. Пассивное начисление

Система автоматически начисляет небольшое количество очков всем студентам ежедневно.

```mermaid
graph TD;
    subgraph Пассивное начисление
        P1(Событие: Начало нового дня) --> P2[Система: Начисляет ежедневный бонус всем студентам];
        P2 --> P3(Конец);
    end
```

### 2.2. Начисление администратором (старостой)

Администратор может вручную начислять очки за особые заслуги.

```mermaid
graph TD;
    subgraph "Начисление от админа"
        A1("Событие: Студент совершил полезное действие") --> A2{"Админ (староста) входит в систему"};
        A2 --> A3["Админ: Выбирает студента и указывает сумму и причину"];
        A3 --> A4["Система: Начисляет очки на баланс студента"];
        A4 --> A5("Конец: Очки начислены");
    end
```

---

## 3. Вспомогательный процесс: Обновление цен

Этот фоновый процесс отвечает за динамическое ценообразование, которое не зависит от действий пользователя.

```mermaid
graph TD;
    subgraph "Динамическое ценообразование"
        T1("Событие: Прошел один час") --> T2["Система: Пересчитывает стоимость всех свободных мест"];
        T2 --> T3{"Проверка: Период бронирования еще активен?"};
        T3 -- Да --> T1;
        T3 -- Нет --> T4("Конец: Период бронирования завершен");
    end
```
